#Logging.level.org.springframework = debug

server.port=8082

management.endpoints.web.exposure.include=*
management.endpoint.shutdown.enabled=true


spring.datasource.url=jdbc:postgresql://${POSTGRES_HOST}:${POSTGRES_PORT}/todo
spring.datasource.username=${POSTGRES_USER}
spring.datasource.password=${POSTGRES_PASSWORD}

spring.jpa.generate-ddl=true
spring.jpa.hibernate.ddl-auto=update


# the realm name
keycloak.realm = todo_app
keycloak.auth-server-url =  http://localhost:9090/auth
keycloak.ssl-required = external
# the client name
keycloak.resource = todo_spring
keycloak.bearer-only = true
# the client secret: you find it under client->the client name->credential
keycloak.credentials.secret = wZKvV3lUs6pasSbyxc7sAAwef42xQRYZ
keycloak.use-resource-role-mappings = true
keycloak.principal-attribute=preferred_username

# Secured and only for role admin
keycloak.securityConstraints[0].authRoles[0] = ROLE_ADMIN
keycloak.securityConstraints[0].securityCollections[0].patterns[0] = /admin


# Secured for normal user
keycloak.security-constraints[1].authRoles[0]=ROLE_REGULAR
keycloak.security-constraints[1].securityCollections[0].patterns[0]=/todos
